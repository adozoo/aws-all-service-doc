
## AWS RDS关系型数据库应用举例

=== 架构图

image::/图片/47图片/架构图.png[架构图]

== 实验步骤

=== 为 RDS 实例创建安全组

> - 请确保您位于**美国东部（弗吉尼亚北部）**us-east-1 区域
> - 顶部菜单**导航到 EC2**
> - 左侧面板，单击**"网络和安全"**，然后单击**"创建安全组"**。
> - 安全组名称：输入**RDS_lab_sg**
> - 描述：**Security group for RDS**
> - VPC：选择**默认VPC**
> - 在**"入站规则"**下，单击**"添加规则"**。
> - 添加 **MYSQL/Aurora**

----
  . 选择类型： 选择 MYSQL/Aurora
  . 协议：TCP
  . 端口范围：3306
  . 源：选择"任何位置"
----

> - 将其他内容**保留为默认值**，然后单击**创建安全组按钮**。
> - 现**已创建安全组**。

---

=== 创建 RDS 数据库实例


> - 请确保您位于**美国东部（弗吉尼亚北部）**us-east-1 区域
> - 通过菜单**导航到 RDS**。
> - 单击**"数据库"**部分中的**"创建数据库"**按钮。
> - 指定数据库**详细信息**：
> * 实例**规格**
> ** 数据库创建方法：**标准创建**
> ** 引擎选项：选择 **MySQL**
> ** 版本 ： **默认**
> ** 模板 ：选择**免费套餐**
> ** 数据库实例标识符：**mydatabaseinstance**
> ** 主用户名：**mydatabaseuser**
> ** 主密码和确认密码：**mydatabasepassword**
> ** 注意：这是用于登录数据库的用户名/密码组合。请记下它们。
> ** 数据库实例类 ： **db.t2.micro — 1 个 vCPU，1 GiB RAM**
> ** 存储类型 ： **通用型 （SSD）**
> ** 分配的存储：**20（默认值）**
> ** 启用存储空间自动缩放：**取消选中**
> ** 公共访问 ： 选择**是**
> ** VPC 安全组： 选择**现有**
> ** 安全组注意：**删除默认安全组**，然后**选择RDS_lab_sg**

image::/图片/47图片/rds安全组.png[rds安全组]

> - 转到**其他配置**选项
> * 初始数据库名称：**mydatabase**
> * 数据库参数组：**默认**
> * 选项组：**默认**
> * 启用自动备份：**取消选中**
> * 日志导出：本练习**不需要日志导出**。
> * 注意：将**其他所有设置保留为默认值**
> - 单击**"创建数据库"**
> - 导航到**"数据库"**。
> - 在 RDS 控制台上，将**显示新数据库实例的详细信息**。数据库实例的状态为**"正在创建"**，直到数据库实例**可供使用**。
> - 当状态更改为可用时，您**可以连接到数据库实例**。新实例状态变为**"可用"**之前最多可能**需要 20 分钟**。


image::/图片/47图片/数据库创建完成.png[数据库创建完成]

---

=== 使用 MySQL 工具连接到数据库实例上的 RDS 数据库

=== 先决条件

> -  MySQL 图形化连接工具**下载并安装在本地电脑**

=== https://dev.mysql.com/downloads/workbench/[下载MySQL工具官方]

> - 使用 MySQL 图形化连接工具**连接到数据库实例上的数据库**，请**查找数据库实例的终端节点（DNS 名称）和端口号**。
> - 导航到并单击**"mydatabaseinstance"**。
> - 在**"连接和安全"**部分下，**复制并记下终端节点和端口**。
> * 终端节点：**复制终端节点**
> * 端口：**3306**
> * 您需要**终端节点**和**端口号**才能**连接到数据库实例**。
> - 打开 MySQL 图形化**连接工具**。单击**加号图标**

==== 本机情况

> - 连接名称：输入示例名称 **MyDatabseConnection**
> - 主机名：**已复制的终端节点**
> - 端口： **3306**
> - 用户名： **mydatabaseuser**
> - 密码： **mydatabasepassword**

image::/图片/47图片/连接信息.png[连接信息]

> - 单击**"测试连接"**以**确保能够正确连接到数据库**。

image::/图片/47图片/测试成功.png[测试成功]

> - 单击**"保存"**以**保存连接**。
> - 成功连接并**打开数据库后**，**可以创建表并对连接的数据库执行各种查询**。

image::/图片/47图片/成功.png[成功]


---



