

## S3托管静态网站


=== 什么是静态网站？

> - 这是**最基本的网站类型**，也是**最容易创建的**。
> - 静态网页是完全按照存储的方式传送到用户的 Web **浏览器的网页**。
> - 它包含固定内容，其中每个页面都以**HTML编码**，并向每个访问者**显示相同的信息**。
> - 使用它们时，**不需要Web编程或数据库设计**。
> - 在安全性方面，它是一个**安全的赌注**，因为我们与**数据库没有任何交互**。
> - 它是可靠的，即如果服务器上发生任何攻击，则会发生**重定向到最近的最安全节点**。
> - 静态网站**非常快**，因为**没有从真正的后端中获取信息**。
> - 由于不存在任何其他组件，因此托管静态网站**很便宜**。
> - 网站的扩展**很容易**，只需**增加带宽即可完成**。


=== 架构图

image::/图片/22图片/架构图.png[架构图]

== 实验步骤

=== 创建 S3 存储桶

> - 请确保您位于**美国东部（弗吉尼亚北部）**us-east-1 区域。
> - 顶部菜单**导航到 S3**

image::/图片/09图片/导航到S3.png[导航到S3]

> - 在 S3 页面上，单击``创建存储桶``并**填写存储桶详细信息**。
> - 桶名称：输入``mys3bucket-test-abcd``
> * 注意： S3 存储桶名称是**全局唯一**的，请**选择一个可用的名称**。
> - AWS 区域：选择美国东部（弗吉尼亚北部）美国东部-1
> - 对于对象所有权：选择**ACL 已禁用(推荐)**
> - 对于此存储桶的“阻止公有访问”设置部分
> * **取消选中**"阻止所有公共访问"选项，然后**选中确认**选项。
> - 将**其他设置保留**为默认值。
> - **创建存储桶按钮**
> - S3 **存储桶已创建**。


image::/图片/17图片/成功创建存储桶.png[成功创建存储桶]


=== 启用静态网站托管

> - 单击您的 S3 **存储桶名称**，然后导航到屏幕顶部的**属性**选项卡。
> - 向下滚动到**静态网站托管**，然后单击**编辑**。
> - 在"静态网站托管"**对话框中**
> * **静态网站托管**：选择**启用**
> * **托管类型** ：选择**托管静态网站**
> * **索引文档** ：**index.html**
> * **错误文档** ：**error.html**
> * 点击**保存更改**。

image::/图片/22图片/静态网站托管1.png[静态网站托管1]

> - 将"存储桶网站终端节点"从(静态网站托管>存储桶网站终端节点)**复制到剪贴板**，并将其**保存在某个位置以供以后使用**。
> * 它看起来**类似于**:``http://mys3bucket-test-abcd.s3-website-us-east-1.amazonaws.com``
> - 接下来，将两个示例 HTML 文件，**上传到您的 s3 存储桶**。

==== **示例 HTML 文件位置在此仓库附件目录**

image::/图片/22图片/上传页面.png[上传页面]

---

> - 单击``权限``选项卡，然后**配置以下内容**
> * 向下滚动到**存储桶策略**，单击右侧的**编辑**按钮。
> * 此时将显示一个空白的**存储桶策略编辑器**。
> * 将存储桶的 ARN 复制到**剪贴板**。
> * **例如**``arn:aws:s3:::mys3bucket-test-abcd``
> - 复制下方**整个策略**，将其粘贴到存储桶策略中，
> - 下面 JSON 中的 Resource **改为自己的存储桶ARN**

```json
  { 
     "Id":"Policy1",
     "Version":"2012-10-17",
     "Statement":[ 
        { 
           "Sid":"Stmt1",
           "Action":[ 
              "s3:GetObject"
           ],
           "Effect":"Allow",
           "Resource":"replace-this-string-with-your-bucket-arn/*",
           "Principal":"*"
        }
     ]
  }
```

image::/图片/17图片/存储桶策略.png[存储桶策略]

> - 点击``保存更改``按钮。

---

=== 测试网站

> - 现在复制**静态网站URL**（我们之前保存的）并在**浏览器中运行它**。
> - 您将能够看到**index.html**文件的**文本**。**示例屏幕截图**附在下面：

image::/图片/22图片/index.png[index]


=== 测试网站的错误页面

> - 复制静态网站URL（我们之前保存），但这次，在URL的末尾**添加一些随机字符**以将其破坏。
> - 完成后，按回车键。您将被**重定向到error.html页面**。


image::/图片/22图片/error.png[error]



---

